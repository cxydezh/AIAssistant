(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9e829f8"],{"0912":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"patient-info"},[s("div",{staticClass:"left"},[s("div",{staticClass:"block"},[t.patientInfo.BED_NO?s("span",{staticClass:"bed"},[t._v(t._s(t.patientInfo.BED_NO))]):t._e(),t._v(" "),s("span",{staticClass:"name sp"},[s("svg-icon",{attrs:{"icon-class":"patient"}}),t._v(t._s(t.patientInfo.PERSON_NAME))],1),t._v(" "),s("span",{staticClass:"sex sp"},[t._v(t._s(t.patientInfo.SEX_NAME))]),t._v(" "),s("span",{staticClass:"age sp"},[t._v(t._s(t.getAge(t.patientInfo))+"岁")])]),t._v(" "),t.eid?t._e():s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v("患者ID"),s("span",{staticClass:"cont"},[t._v(t._s(t.patientInfo.PATIENT_ID?t.patientInfo.PATIENT_ID:"-"))])])]),t._v(" "),t.eid?s("div",{staticClass:"block-wrapper"},[s("div",{staticClass:"block"},[s("span",{staticClass:"lb lb-patient"},[t._v("患者ID"),s("span",{staticClass:"cont"},[t._v(t._s(t.patientInfo.PATIENT_ID?t.patientInfo.PATIENT_ID:"-"))])])]),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"lb lb-patient card-display"},[t._v("索引ID"),s("span",{staticClass:"cont"},[t._v(t._s(t.getSort(t.eid,24)))]),t._v(" "),s("div",{staticClass:"info-card index"},[s("div",{staticClass:"warpper"},[s("eidCard",{attrs:{eid:t.eid,ids:t.ids}})],1)])])])]):t._e(),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v(t._s(t.getVisitName(t.patientInfo.VISIT_TYPE_CODE))),s("span",{staticClass:"cont"},[t._v(t._s(t.getVisitNo(t.patientInfo)))])])]),t._v(" "),"02"==t.patientInfo.VISIT_TYPE_CODE?s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v("入院科室"),s("span",{staticClass:"cont"},[t._v(t._s(t.patientInfo.START_DEPT_NAME?t.patientInfo.START_DEPT_NAME:"-"))])])]):t._e(),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v("当前科室"),s("span",{staticClass:"cont"},[t._v(t._s(t.patientInfo.START_DEPT_NAME?t.patientInfo.START_DEPT_NAME:"-"))])])]),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v("诊断"),s("span",{staticClass:"cont",attrs:{title:t.patientInfo.DIAGNOSIS_NAME}},[t._v(t._s(t.patientInfo.DIAGNOSIS_NAME?t.getSort(t.patientInfo.DIAGNOSIS_NAME,12):"-"))])])]),t._v(" "),s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v(t._s("02"==t.patientInfo.VISIT_TYPE_CODE?"入院时间":"就诊时间")),s("span",{staticClass:"cont"},[t._v(t._s(t.patientInfo.START_TIME))])])]),t._v(" "),s("div",{staticClass:"block"},[t.allergyList.length>0?s("span",{staticClass:"sk gm card-display"},[t._v("过敏"),s("span",{staticClass:"t"},[t._v(t._s(t.allergyList.length))]),t._v(" "),s("div",{staticClass:"info-card gm"},[s("div",{staticClass:"warpper"},[s("allergyCard",{attrs:{allergyList:t.allergyList}})],1)])]):t._e()])]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"block"},[s("span",{staticClass:"lb"},[t._v("全部就诊"),s("span",{staticClass:"ct"},[t._v(t._s(t.patientInfo.VISIT_TIMES))]),t._v("次")])])])])},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"allergy-card"},[s("div",{staticClass:"card-cont"},[s("div",{staticClass:"patient-table"},[s("div",{staticClass:"dtable"},[t._m(0),t._v(" "),0==t.allergyList.length?s("div",{staticClass:"row-body rows"},[s("div",{staticClass:"cell cell-body empty"},[t._v("暂无数据")])]):t._e(),t._v(" "),t._l(t.allergyList,(function(e,n){return s("div",{key:n+"bz",class:"row-body rows r"+n%2},[s("div",{staticClass:"cell cell-body ch1"},[t._v(t._s(e.ALLERGEN_CODE))]),t._v(" "),s("div",{staticClass:"cell cell-body ch2"},[t._v(t._s(e.ALLERGEN_NAME))]),t._v(" "),s("div",{staticClass:"cell cell-body ch2"},[t._v(t._s(e.ALLERGY_REACTION))]),t._v(" "),s("div",{staticClass:"cell cell-body ch3"},[t._v(t._s(e.RECORD_PERSON))]),t._v(" "),s("div",{staticClass:"cell cell-body ch4"},[t._v(t._s(e.RECORDTIME))])])}))],2)])])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row-head rows"},[s("div",{staticClass:"cell cell-head ch1"},[t._v("过敏代码")]),t._v(" "),s("div",{staticClass:"cell cell-head ch2"},[t._v("过敏源")]),t._v(" "),s("div",{staticClass:"cell cell-head ch2"},[t._v("过敏原因")]),t._v(" "),s("div",{staticClass:"cell cell-head ch3"},[t._v("记录人")]),t._v(" "),s("div",{staticClass:"cell cell-head ch4"},[t._v("记录时间")])])}],c={props:["allergyList"],data:function(){return{}},watch:{allergyList:{handler:function(t,e){}}},created:function(){},methods:{}},r=c,o=(s("70e6"),s("2877")),u=Object(o["a"])(r,a,l,!1,null,"81944d3e",null),d=u.exports,f=s("f233"),_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"eid-card"},[s("div",{staticClass:"main-card",attrs:{id:"main-card"}},[s("div",{staticClass:"eid"},[t._v("索引ID："+t._s(t.eid))]),t._v(" "),s("div",{staticClass:"patient-table"},[s("div",{staticClass:"dtable"},[t._m(0),t._v(" "),0==t.visitList.length?s("div",{staticClass:"row-body rows"},[s("div",{staticClass:"cell cell-body empty"},[t._v("暂无数据")])]):t._e(),t._v(" "),t._l(t.visitList,(function(e,n){return s("div",{key:n+"bz",class:"row-body rows r"+n%2},[s("div",{staticClass:"cell cell-body ch1"},[t._v(t._s(e[1]))]),t._v(" "),s("div",{staticClass:"cell cell-body ch2"},[t._v(t._s(t.getVisitName(e[0])))]),t._v(" "),s("div",{staticClass:"cell cell-body ch3"},[t._v(t._s(e[4]))])])}))],2)])]),t._v(" "),s("div",{staticClass:"srceen-full-btn"},[s("screen-full",{attrs:{id:"main-card"}})],1)])},v=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row-head rows"},[s("div",{staticClass:"cell cell-head ch1"},[t._v("患者ID")]),t._v(" "),s("div",{staticClass:"cell cell-head ch2"},[t._v("就诊类型")]),t._v(" "),s("div",{staticClass:"cell cell-head ch3"},[t._v("诊断日期")])])}],h=(s("28a5"),s("d241")),p={props:["ids","eid"],components:{screenFull:h["a"]},data:function(){return{visitList:[]}},watch:{ids:{handler:function(t,e){this.getVisitList()}},eid:{handler:function(t,e){}}},created:function(){this.getVisitList()},methods:{getVisitList:function(){if(this.ids){for(var t=[],e=this.ids.split(","),s=0;s<e.length;s++){var n=e[s];t.push(n.split("|"))}this.visitList=t}},getVisitName:function(t){return"01"===t?"门诊":"02"===t?"住院":"03"===t?"体检":"急诊"}}},g=p,C=(s("7ea8"),Object(o["a"])(g,_,v,!1,null,"7495baf9",null)),b=C.exports,m={props:["patientInfo","eid","ids"],components:{eidCard:b,allergyCard:d},watch:{patientInfo:{handler:function(t,e){}},eid:{handler:function(t,e){}},ids:{handler:function(t,e){this.ids&&this.getList()}}},data:function(){return{allergyList:[]}},created:function(){this.ids&&this.getList()},methods:{getList:function(){var t=this;Object(f["b"])({ids:this.ids}).then((function(e){t.allergyList=e}))},getAge:function(t){if(!t.START_TIME&&!t.DATE_OF_BIRTH)return"-";var e=this._getTimeBetween2(t.DATE_OF_BIRTH,t.START_TIME);return Math.floor(e/365)},getVisitName:function(t){return"01"===t?"门诊号":"02"===t?"住院号":"急诊号"},getVisitNo:function(t){return"02"===t.VISIT_TYPE_CODE?t.INP_NO?t.INP_NO:"-":t.OUTP_NO?t.OUTP_NO:"-"},getSort:function(t,e){return t.length<e?t:t.substring(0,e-1)+".."}}},E=m,w=(s("93f6"),Object(o["a"])(E,n,i,!1,null,"36c20614",null));e["a"]=w.exports},"249a":function(t,e,s){},"2b4c1":function(t,e,s){},"3af0":function(t,e,s){},5656:function(t,e,s){},"70e6":function(t,e,s){"use strict";s("2b4c1")},"7ea8":function(t,e,s){"use strict";s("249a")},8298:function(t,e,s){"use strict";s("5656")},"93bf":function(t,e,s){
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/
(function(){"use strict";var e="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},s=t.exports,n=function(){for(var t,s=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=s.length,a={};n<i;n++)if(t=s[n],t&&t[1]in e){for(n=0;n<t.length;n++)a[s[0][n]]=t[n];return a}return!1}(),i={change:n.fullscreenchange,error:n.fullscreenerror},a={request:function(t,s){return new Promise(function(i,a){var l=function(){this.off("change",l),i()}.bind(this);this.on("change",l),t=t||e.documentElement;var c=t[n.requestFullscreen](s);c instanceof Promise&&c.then(l).catch(a)}.bind(this))},exit:function(){return new Promise(function(t,s){if(this.isFullscreen){var i=function(){this.off("change",i),t()}.bind(this);this.on("change",i);var a=e[n.exitFullscreen]();a instanceof Promise&&a.then(i).catch(s)}else t()}.bind(this))},toggle:function(t,e){return this.isFullscreen?this.exit():this.request(t,e)},onchange:function(t){this.on("change",t)},onerror:function(t){this.on("error",t)},on:function(t,s){var n=i[t];n&&e.addEventListener(n,s,!1)},off:function(t,s){var n=i[t];n&&e.removeEventListener(n,s,!1)},raw:n};n?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(e[n.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[n.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[n.fullscreenEnabled])}}}),s?t.exports=a:window.screenfull=a):s?t.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}})()},"93f6":function(t,e,s){"use strict";s("3af0")},d241:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"screen-full",attrs:{divId:t.id},on:{click:t.container}},[s("i",{staticClass:"el-icon-full-screen",attrs:{title:"全屏"}})])},i=[],a=s("93bf"),l=s.n(a),c={props:["id","close"],data:function(){return{elementFull:!1}},mounted:function(){document.addEventListener("keydown",this.handleKeyPress)},beforeDestroy:function(){document.removeEventListener("keydown",this.handleKeyPress)},methods:{handleKeyPress:function(t){"Escape"!==t.key&&27!==t.keyCode&&"q"!==t.key&&81!==t.keyCode||l.a.isFullscreen&&l.a.exit()},handleFull:function(){l.a.isEnabled?(l.a.toggle(),this.$emit("getStatus",!1)):(console.log("您的浏览器不支持全屏"),this.$emit("getStatus",!1))},container:function(){var t=this.id,e=document.getElementById(t);l.a.isEnabled&&(l.a.request(e),this.$emit("getStatus",!0),this.elementFull=!this.elementFull,this.elementFull&&(this.$emit("getStatus",!1),l.a.toggle()))}}},r=c,o=(s("8298"),s("2877")),u=Object(o["a"])(r,n,i,!1,null,"39350cff",null);e["a"]=u.exports},f233:function(t,e,s){"use strict";s.d(e,"f",(function(){return c})),s.d(e,"e",(function(){return r})),s.d(e,"d",(function(){return o})),s.d(e,"h",(function(){return u})),s.d(e,"g",(function(){return d})),s.d(e,"c",(function(){return f})),s.d(e,"i",(function(){return _})),s.d(e,"a",(function(){return v})),s.d(e,"b",(function(){return h}));var n=s("b775"),i=s("4328"),a=s.n(i),l=s("9247");function c(t){return Object(n["a"])({url:l["a"]["getPatientList"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function r(t){return Object(n["a"])({url:l["a"]["getPatientId"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function o(t){return Object(n["a"])({url:l["a"]["getPageConfig"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function u(t){return Object(n["a"])({url:l["a"]["getVisitStatusAndDept"],method:"get",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function d(t){return Object(n["a"])({url:l["a"]["getAuthorisedOid"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function f(t){return Object(n["a"])({url:l["a"]["getCollectedRequest"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function _(t){return Object(n["a"])({url:l["a"]["saveOrUpdateCollectedSearchRequest"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function v(t){return Object(n["a"])({url:l["a"]["deleteCollectedSearchRequest"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}function h(t){return Object(n["a"])({url:l["a"]["getAllergyList"],method:"post",data:a.a.stringify(t),headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:localStorage.getItem("Authorization")}})}}}]);